<div class="container-fluid">
    <loading ng-show="$ctrl.loading_getDetail"></loading>

    <h1 ng-show="$ctrl.id>0">租户详情</h1>
    <h1 ng-show="$ctrl.id==0">创建租户</h1>

    <form ng-submit="$ctrl.createOrUpdate()">

        <div class="row">
            <div class="col">
                <div class="card">
                    <div class="card-header">
                        基本信息
                    </div>
                    <div class="card-body">
                        <div class="form-group">
                            <label>名称</label>
                            <input class="form-control" type="text" ng-model="$ctrl.data.name" maxlength="200" />
                        </div>

                        <div class="form-group">
                            <label>主题色</label>
                            <input class="form-control" type="text" ng-model="$ctrl.data.theme" />
                        </div>

                        <div class="form-group">
                            <label>状态</label>
                            <select class="form-control" ng-model="$ctrl.data.status" ng-options="x.value as x.name for x in $ctrl.status " />
                        </div>

                        <div class="form-group">
                            <div> <label>令牌授权者</label> </div>
                            <div> <input class="form-control" type="text" ng-model="$ctrl.data.identityServerIssuerUri" /> </div>
                        </div>

                        <div class="form-group">
                            <label>创建日期</label>
                            <input class="form-control" type="text" ng-model="$ctrl.data.createDate" />
                        </div>

                        <div class="form-group">
                            <label>最后更新</label>
                            <input class="form-control" type="text" ng-model="$ctrl.data.lastUpdateTime" />
                        </div>

                        <div class="form-group">
                            <label>缓存时间</label>
                            <input class="form-control" type="number" ng-model="$ctrl.data.cacheDuration" />
                        </div>
                    </div>
                </div>

            </div>
            <div class="col">

                <div class="card">
                    <div class="card-header">
                        绑定域名
                    </div>
                    <div class="card-body">
                        <div class="form-group form-row align-items-center" ng-repeat="x in $ctrl.data.hosts">
                            <div class="col-auto"><label>域名{{$index+1}}</label></div>
                            <div class="col-auto">
                                <input class="form-control" type="text" ng-model="x.hostName" />
                            </div>
                            <div class="col-auto">
                                <button type="button" class="btn btn-link" ng-click="$ctrl.delHost($index)">删除</button>
                            </div>
                        </div>

                        <button type="button" ng-click="$ctrl.addHost()">添加</button>
                    </div>
                </div>
                <br />
                <div class="card">
                    <div class="card-header">
                        Claims
                    </div>
                    <div class="card-body">
                        <div class="form-group form-row align-items-center" ng-repeat="x in $ctrl.data.claims">
                            <div class="col-auto">
                                <input class="form-control" type="text" ng-model="x.claimType" placeholder="类型:" />
                            </div>
                            <div class="col-auto">
                                <input class="form-control" type="text" ng-model="x.claimValue" placeholder="值:" />
                            </div>
                            <div class="col-auto">
                                <button type="button" ng-click="$ctrl.delClaim($index)">删除</button>
                            </div>
                        </div>

                        <button type="button" ng-click="$ctrl.addClaim()">添加</button>
                    </div>
                </div>

            </div>
        </div>

        <br />  <br />

        <div class="row">
            <div class="col">
                <div class="card">
                    <div class="card-header">
                        <div class="row">
                            <div class="col-8">
                                扩展属性
                            </div>
                            <div class="col">
                                <input ng-model="$ctrl.propertyNameFilter" class="form-control form-control-sm pull-right" placeholder="查找..." />
                            </div>
                        </div>
                    </div>
                    <div class="card-body" style="max-height: 600px;overflow-y: scroll;">
                        <div class="form-group form-row align-items-center" ng-repeat="x in $ctrl.data.properties | filter : {key : $ctrl.propertyNameFilter}">
                            <div class="col">
                                <input ng-disabled="$ctrl.defaultProperties.indexOf(x.key)>-1" class="form-control" type="text" ng-model="x.key" placeholder="属性名称" />
                            </div>
                            <div class="col">
                                <textarea class="form-control" ng-model="x.value" placeholder="属性值" rows="2"></textarea>
                            </div>
                            <div class="col-auto">
                                <button type="button" class="btn btn-link" ng-click="$ctrl.delProperty($index)">删除</button>
                            </div>
                        </div>

                        <button type="button" ng-click="$ctrl.addProperty()">添加</button>
                    </div>
                </div>
            </div>
        </div>

        <br />
        <div class="row">
            <div class="col">
                <button type="submit" class="btn btn-primary">提交</button>
            </div>
        </div>
    </form>
</div>