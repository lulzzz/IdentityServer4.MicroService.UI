"use strict";window.oidc&&oidc.getUser().then(function(e){if(null==e)location.href="/login.html";else{window.user=e,window.startSignoutMainWindow=function(){oidc.signoutRedirect().then(function(e){}).catch(function(e){})},oidc.events.addAccessTokenExpiring(function(){alert("token expiring")}),oidc.events.addAccessTokenExpired(function(){alert("token expired")}),oidc.events.addSilentRenewError(function(e){alert("silent renew error"+e.message)}),oidc.events.addUserLoaded(function(e){odic.getUser().then(function(){})}),oidc.events.addUserUnloaded(function(e){alert("user unloaded")});var n=queryString("dev");n&&appIframe.attr("src",n+"?user="+JSON.stringify(e))}}).catch(function(e){location.href="/login.html"});var leftdrawer=new mdui.Drawer("#leftDrawer"),inst=new mdui.Menu("#more_vert","#more_vert_items"),appLoadingBar=document.getElementById("appLoadingBar"),appIframe=$("#appIframe");function openApp(e){appLoadingBarToggle("show"),e.indexOf("http")<=-1?appIframe.attr("src",appStore+e):appIframe.attr("src",e)}function appLoadingBarToggle(e){switch(e){case"show":appLoadingBar.style.display="";break;case"hide":appLoadingBar.style.display="none","closed"!=leftdrawer.getState()&&leftdrawer.close()}}function refreshApp(){iframe.iFrameResizer.sendMessage({eventType:"refresh"})}function queryString(e){e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var n=new RegExp("[\\?&]"+e+"=([^&#]*)").exec(location.search);return null==n?"":decodeURIComponent(n[1])}iFrameResize({log:!1,checkOrigin:!1,initCallback:function(e){window.iframe=e},messageCallback:function(e){switch(e.message){case"app_loaded":appLoadingBarToggle("hide"),iframe.iFrameResizer.sendMessage({eventType:"appLoaded_callback",user:window.user,windowOuterHeight:window.outerHeight});break;case"parent_info":iframe.iFrameResizer.sendMessage({eventType:"parent_info_callback",parentInfo:{location:location,apps:window.apps}})}}},"#appIframe");